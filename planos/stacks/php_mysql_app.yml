nombre: php_mysql_app

autor: "Equipo PrefApp <info@prefapp.in>"

version: 0.1

descripcion: >

  Aplicacion PHP sobre nginx, php-fpm y MySQL de backend

category: stack

tags:
  - lamp
  - php
  - mysql
  - web
  - beta

construcciones:

  app_data:

    from: php_app:0.1@app_data

  app:

    from: php_app:0.1@app

    links:
      - "db:db"
    
  db:
    from: mysql_db_riyic:0.1@db


#  letsencrypt:
#    from: "ssl_letsencrypt:0.1@letsencrypt"
#    conditional:
#      attribute: 'app:use_ssl'
#      value: 'yes'
#
#  proxy-ssl:
#    from: "ssl_letsencrypt:0.1@proxy-ssl"
#    conditional:
#      attribute: 'app:use_ssl'
#      value: 'yes'
#
#  proxy:
#    from: "ssl_letsencrypt:0.1@proxy-ssl"
#    volumes_from: []
#    links: 
#      - app:site0
#    conditional:
#      attribute: 'app:use_ssl'
#      value: "no"

  letsencrypt:
    from: "ssl_letsencrypt:0.1@letsencrypt"

  proxy-ssl:
    from: "ssl_letsencrypt:0.1@proxy-ssl"

  proxy:
    from: "common:0.1@proxy-http"
