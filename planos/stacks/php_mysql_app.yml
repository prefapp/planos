nombre: php_mysql_app

autor: "Equipo PrefApp <info@prefapp.in>"

version: 0.1

descripcion: >

  Aplicacion web con nginx, php-fpm y MySQL de backend

coming_soon: 0

beta: 1

category: stacks

tags:
  - lamp
  - php
  - mysql
  - web

construcciones:

  app_data:

    from: php_app:0.1@app_data

  app:

    from: php_app:0.1@app

    links:
      - "db:#{db_host}"

    parameters:
      # user defined
      db_host:
        value: "mysql"
        constante: 1


  db:
    
    role: mysql_db
    
    command: "/root/start.sh"
    
    expose:
    
      - 3306
    
    volumes:
      - /var/lib/mysql
    
    parameters:
    
      user:
        riyic:
          name: "dbs/mysql/dbs/[0]/user"
          recipe: "dbs_mysql::create_db"
        value: "dbuser"
        user_provided: 1
    
      name:
        riyic:
          name: "dbs/mysql/dbs/[0]/name"
          recipe: "dbs_mysql::create_db"
        value: "dbname"
        user_provided: 1
    
    
      password:
        riyic:
          name: "dbs/mysql/dbs/[0]/password"
          recipe: "dbs_mysql::create_db"
        value: 'passw0rd'
        user_provided: 1
    
      root_password:
        riyic:
          name: "dbs/mysql/server/root_password"
          recipe: "dbs_mysql::server"
        value: '09Dx329ksx&x23116d'
